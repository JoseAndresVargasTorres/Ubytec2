<main class="form-signin w-100 m-auto text-center">
  <!-- Logo -->
  <img src="/assets/LogoUbyTEC.jpg" class="mb-4 logo-img" alt="Logo UbyTEC">

  <h1 class="h3 mb-3 fw-normal">Iniciar Sesión</h1>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="needs-validation">
    <!-- Selector de tipo de usuario -->
    <div class="form-floating mb-3">
      <select
        class="form-select"
        id="userType"
        formControlName="userType"
        [class.is-invalid]="loginForm.get('userType')?.invalid && loginForm.get('userType')?.touched">
        <option value="cliente">Cliente</option>
        <option value="admin">Administrador UbyTEC</option>
        <option value="adminComercio">Administrador de Comercio</option>
      </select>
      <label for="userType">Tipo de Usuario</label>
    </div>

    <!-- Campo de usuario -->
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="usuario"
        placeholder="Usuario"
        formControlName="usuario"
        [class.is-invalid]="loginForm.get('usuario')?.invalid && loginForm.get('usuario')?.touched">
      <label for="usuario">Usuario</label>
      <div class="invalid-feedback" *ngIf="loginForm.get('usuario')?.errors?.['required'] && loginForm.get('usuario')?.touched">
        El usuario es requerido
      </div>
    </div>

    <!-- Campo de contraseña -->
    <div class="form-floating mb-3">
      <input
        type="password"
        class="form-control"
        id="password"
        placeholder="Contraseña"
        formControlName="password"
        [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
      <label for="password">Contraseña</label>
      <div class="invalid-feedback" *ngIf="loginForm.get('password')?.errors?.['required'] && loginForm.get('password')?.touched">
        La contraseña es requerida
      </div>
    </div>

    <!-- Botón de inicio de sesión -->
    <button
      class="w-100 btn btn-lg btn-primary mb-3"
      type="submit"
      [disabled]="loginForm.invalid || loading">
      <span class="spinner-border spinner-border-sm me-2" *ngIf="loading" role="status" aria-hidden="true"></span>
      Iniciar Sesión
    </button>

    <!-- Enlaces de registro -->
    <div class="mt-4">
      <div class="mb-2">
        <a routerLink="/solicitud-afiliaciones" class="text-decoration-none">
          ¿Eres un comercio? Afíliate con nosotros aquí
        </a>
      </div>
      <div>
        <a routerLink="/gestion-clientes" class="text-decoration-none">
          ¿No tienes cuenta? Regístrate como cliente aquí
        </a>
      </div>
    </div>
  </form>

  <p class="mt-5 mb-3 text-muted">© 2024</p>
</main>
